(this["webpackJsonphousecarl-web-client"]=this["webpackJsonphousecarl-web-client"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),o=n(22),i=n.n(o),a=(n(31),n(32),n(11)),s=n(6),u=n(47),j=n(3),d=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{children:"Uh oh, I can't seem to reach the video server."}),Object(j.jsx)("div",{children:"Are you sure it's running?"})]})},l=function(){return Object(j.jsx)(j.Fragment,{children:"Loading"})},h=n(15),b=n(16),O=n.n(b),v=function(e,t){var n=e.format(t);return"Invalid date"===n?null:n},x=function(e,t){var n=function(e){try{var t=e.split("_"),n=Object(h.a)(t,2),c=n[0],r=n[1].slice(0,-4).replace(/[hms]/g,":").slice(0,-1);return O()("".concat(c," ").concat(r),O.a.ISO_8601)}catch(o){return console.error(o),null}}(e);return n?v(n,t):null},f="dddd, MMMM Do YYYY",p="h:mm:ss a",m=function(e){var t=O()(e,"YYYY-MM-DD");return v(t,f)},w=function(e){var t=e.data;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:"Videos By Date"}),Object(j.jsx)("ul",{children:t.map((function(e){var t=e.date,n=e.videos;return Object(j.jsx)("li",{children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("h3",{children:m(t)}),n.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(a.b,{to:"/videos/".concat(t,"/").concat(e),children:(n=e,x(n,p))})},e);var n}))]})},t)}))})]})},g=n(21),y=n.n(g),k=n(24),M=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw n.status;case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){return M("/api/videos")},D=function(){var e=Object(u.a)("videos",Y),t=e.isLoading,n=e.error,c=e.data;return n?Object(j.jsx)(d,{}):t?Object(j.jsx)(l,{}):c?Object(j.jsx)(w,{data:c}):null},I=function(){var e=Object(s.e)(),t=e.video,n=e.date,r="/api/videos/".concat(n,"/").concat(t),o=Object(c.useState)(!1),i=Object(h.a)(o,2),a=i[0],u=i[1],d=Object(c.useCallback)((function(){return u(!0)}),[]),l=Object(c.useMemo)((function(){var e=x(t,"".concat(f,", ").concat(p));return e||u(!0),e}),[t]);return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:l||t}),a?Object(j.jsx)("div",{children:"There was an error loading the video. Are you sure the URL is correct?"}):Object(j.jsxs)("video",{controls:!0,muted:!0,autoPlay:!0,loop:!0,onError:d,children:[Object(j.jsx)("source",{src:r,type:"video/ogg"}),Object(j.jsx)("span",{children:"Uh oh, looks like video won't play."})]})]})},L=function(){return Object(j.jsxs)("header",{children:[Object(j.jsx)("h1",{children:"Housecarl"}),Object(j.jsx)(a.b,{to:"/",children:"Home"})]})},S=function(){return Object(j.jsxs)(a.a,{children:[Object(j.jsx)(s.a,{path:"*",component:L}),Object(j.jsx)(s.a,{exact:!0,path:"/",component:D}),Object(j.jsx)(s.a,{path:"/videos/:date/:video",component:I})]})},U=n(46),A=n(25),B=new U.a,E=function(e){var t=e.children;return Object(j.jsx)(A.a,{client:B,children:t})};var H=function(){return Object(j.jsx)(E,{children:Object(j.jsx)(S,{})})};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(H,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.23277425.chunk.js.map